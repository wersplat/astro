---
import Layout from '@/layouts/Layout.astro';
import TournamentsList from '@/components/tournaments/TournamentsList';
import TournamentsFilters from '@/components/tournaments/TournamentsFilters';

// Get search parameters from URL
const url = Astro.url;
const searchParams = {
  search: url.searchParams.get('search') || undefined,
  status: url.searchParams.get('status') || undefined,
  tier: url.searchParams.get('tier') || undefined,
  sort: url.searchParams.get('sort') || undefined,
  page: url.searchParams.get('page') || undefined,
};
---

<Layout 
  title="Tournaments â€” NBA 2K Pro-Am Global Rankings"
  description="Discover upcoming and past tournaments in the NBA 2K Pro-Am competitive scene."
>
  <div class="container">
    <!-- Header -->
    <div style="margin-bottom: 2rem;">
      <h1 class="gradient-heading">
        Tournaments
      </h1>
      <p class="subtitle">
        Compete in official tournaments and climb the global rankings
      </p>
    </div>

    <!-- Filters -->
    <div style="margin-bottom: 1.5rem;">
      <TournamentsFilters searchParams={searchParams} client:load />
    </div>

    <!-- Tournaments List -->
    <TournamentsList searchParams={searchParams} client:load />
  </div>
</Layout>

<style>
  .gradient-heading {
    font-size: 2.5rem;
    font-weight: 800;
    background: linear-gradient(135deg, #3B82F6 0%, #9BF00B 100%);
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    margin: 0 0 0.5rem 0;
  }
  
  .subtitle {
    font-size: 1.25rem;
    color: var(--color-text-secondary);
    margin: 0;
  }
</style>
